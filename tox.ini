[tox]
envlist = lint, pytest, mypy
isolated_build = True

[testenv:lint]
deps =
    setuptools
    ruff
skip_install = true
commands = ruff check

# Test environment
[testenv]
deps =
    pytest
    pytest-cov

[testenv:pytest]
# commands = py.test -vv --cov {posargs} --cov-branch --cov-report term-missing
commands = py.test -vv --cov {posargs} --cov-branch --cov-report term

[testenv:mypy]
description = Run mypy
deps =
    mypy
    quantiphy
    {[testenv]deps}
commands =
    mypy \
        --install-types \
        --non-interactive \
        --disable-error-code import \
        {toxinidir}/rkm_codes
